Watching for file changes with StatReloader
Watching for file changes with StatReloader
[26/Sep/2019 15:35:14] "POST /api/auth/signin/ HTTP/1.1" 200 303
[26/Sep/2019 15:35:15] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 95
[26/Sep/2019 15:35:15] "GET /api/subscribes/?user_id=1 HTTP/1.1" 200 12
Performing system checks...

System check identified no issues (0 silenced).
September 26, 2019 - 15:34:52
Django version 2.2.4, using settings 'backend.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.
user1
<QuerySet [<Profile: Profile object (1)>]>
2024-01-18
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0
df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0[26/Sep/2019 15:35:16] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186
[26/Sep/2019 15:35:17] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
[26/Sep/2019 15:35:26] "POST /api/subscribes/ HTTP/1.1" 200 53
[26/Sep/2019 15:38:05] "POST /api/auth/signin/ HTTP/1.1" 200 303
[26/Sep/2019 15:38:07] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 95
[26/Sep/2019 15:38:07] "GET /api/subscribes/?user_id=1 HTTP/1.1" 200 12

df_rating    movieid    rating
0        1  4.146435
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146435  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763645  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns]
         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
user1
<QuerySet [<Profile: Profile object (1)>]>
2024-02-17
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0
df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0
df_rating    movieid    rating
0        1  4.146435
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146435  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763645  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0[26/Sep/2019 15:38:08] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186
[26/Sep/2019 15:38:08] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
[26/Sep/2019 15:38:19] "GET /api/movies/?viewcnt=&rating=&title=&select= HTTP/1.1" 200 405768
[26/Sep/2019 15:38:21] "GET /api/ratings/?mode=user&movieid=2 HTTP/1.1" 200 221
[26/Sep/2019 15:38:21] "PUT /api/movies/?movieid=2 HTTP/1.1" 200 2
[26/Sep/2019 15:38:25] "GET /api/recommends/?movieid=2 HTTP/1.1" 200 328
[26/Sep/2019 15:55:51] "POST /api/auth/signup/ HTTP/1.1" 201 4
[26/Sep/2019 15:55:53] "GET /api/movies/ HTTP/1.1" 200 405768
[26/Sep/2019 15:56:00] "GET /api/auth/signup-many/ HTTP/1.1" 200 617809
[26/Sep/2019 15:56:04] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:56:09] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:56:12] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:56:16] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:56:21] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:56:26] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:56:32] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:56:49] "POST /api/auth/signin/ HTTP/1.1" 200 298
[26/Sep/2019 15:56:49] "GET /api/auth/signup-many/?username=js HTTP/1.1" 200 89
[26/Sep/2019 15:56:49] "GET /api/subscribes/?user_id=6042 HTTP/1.1" 200 2
[26/Sep/2019 15:56:53] "POST /api/subscribes/ HTTP/1.1" 200 53
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:56:56] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:56:57] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:57:11] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:57:11] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:57:20] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:57:20] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
[26/Sep/2019 15:57:21] "GET /api/movies/ HTTP/1.1" 200 405768
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:57:21] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
Internal Server Error: /api/ratings/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/sqlite3/base.py", line 383, in execute
    return Database.Cursor.execute(self, query, params)
sqlite3.IntegrityError: NOT NULL constraint failed: api_rating.userid

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/rating_views.py", line 94, in ratings
    Rating(userid=userid, movieid=movieid, rating=rating, date=date).save()
  File "/usr/local/lib/python3.6/dist-packages/django/db/models/base.py", line 741, in save
    force_update=force_update, update_fields=update_fields)
  File "/usr/local/lib/python3.6/dist-packages/django/db/models/base.py", line 779, in save_base
    force_update, using, update_fields,
  File "/usr/local/lib/python3.6/dist-packages/django/db/models/base.py", line 870, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/usr/local/lib/python3.6/dist-packages/django/db/models/base.py", line 908, in _do_insert
    using=using, raw=raw)
  File "/usr/local/lib/python3.6/dist-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/db/models/query.py", line 1186, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/usr/local/lib/python3.6/dist-packages/django/db/models/sql/compiler.py", line 1335, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/utils.py", line 99, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/utils.py", line 76, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
  File "/usr/local/lib/python3.6/dist-packages/django/db/utils.py", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
  File "/usr/local/lib/python3.6/dist-packages/django/db/backends/sqlite3/base.py", line 383, in execute
    return Database.Cursor.execute(self, query, params)
django.db.utils.IntegrityError: NOT NULL constraint failed: api_rating.userid
[26/Sep/2019 15:57:27] "POST /api/ratings/ HTTP/1.1" 500 17602
[26/Sep/2019 15:57:28] "GET /api/auth/signup-many/ HTTP/1.1" 200 617809
[26/Sep/2019 15:57:31] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:33] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:35] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:37] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:38] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:42] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:47] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:49] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:50] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:52] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:56] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:57:58] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:00] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:03] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:06] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:08] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:10] "POST /api/ratings/ HTTP/1.1" 200 0
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:58:11] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:58:11] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:58:16] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:58:16] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
[26/Sep/2019 15:58:23] "GET /api/movies/ HTTP/1.1" 200 405768
[26/Sep/2019 15:58:29] "GET /api/auth/signup-many/ HTTP/1.1" 200 617809
[26/Sep/2019 15:58:32] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:34] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:36] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:39] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:41] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:43] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:49] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:53] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:55] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:58:58] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:00] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:02] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:05] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:06] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:08] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:10] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:12] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:17] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:21] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:23] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:27] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:30] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 15:59:32] "POST /api/ratings/ HTTP/1.1" 200 0
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:59:34] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:59:34] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:59:38] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 15:59:39] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
[26/Sep/2019 15:59:47] "POST /api/auth/signin/ HTTP/1.1" 200 303
[26/Sep/2019 15:59:48] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 95
[26/Sep/2019 15:59:48] "GET /api/subscribes/?user_id=1 HTTP/1.1" 200 12

예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns]
         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
js jinsoo shin js@js.com
{'userid': 6042, 'movieid': 3, 'rating': 4.5}
6042 3 4.5 2019-09-26 15:56:04
{'userid': 6042, 'movieid': 4, 'rating': 5}
6042 4 5 2019-09-26 15:56:09
{'userid': 6042, 'movieid': 5, 'rating': 5}
6042 5 5 2019-09-26 15:56:12
{'userid': 6042, 'movieid': 7, 'rating': 5}
6042 7 5 2019-09-26 15:56:16
{'userid': 6042, 'movieid': 28, 'rating': 5}
6042 28 5 2019-09-26 15:56:21
{'userid': 6042, 'movieid': 35, 'rating': 3.5}
6042 35 3.5 2019-09-26 15:56:26
{'userid': 6042, 'movieid': 51, 'rating': 4.5}
6042 51 4.5 2019-09-26 15:56:32
js
<QuerySet [<Profile: Profile object (6042)>]>

로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
{'movieid': 164, 'rating': 4.5}
None 164 4.5 2019-09-26 15:57:27
{'userid': 6042, 'movieid': 320, 'rating': 4.5}
6042 320 4.5 2019-09-26 15:57:31
{'userid': 6042, 'movieid': 541, 'rating': 4.5}
6042 541 4.5 2019-09-26 15:57:33
{'userid': 6042, 'movieid': 707, 'rating': 4.5}
6042 707 4.5 2019-09-26 15:57:35
{'userid': 6042, 'movieid': 746, 'rating': 4.5}
6042 746 4.5 2019-09-26 15:57:37
{'userid': 6042, 'movieid': 913, 'rating': 4.5}
6042 913 4.5 2019-09-26 15:57:38
{'userid': 6042, 'movieid': 942, 'rating': 4.5}
6042 942 4.5 2019-09-26 15:57:42
{'userid': 6042, 'movieid': 5, 'rating': 4.5}
6042 5 4.5 2019-09-26 15:57:47
{'userid': 6042, 'movieid': 7, 'rating': 4.5}
6042 7 4.5 2019-09-26 15:57:49
{'userid': 6042, 'movieid': 21, 'rating': 4.5}
6042 21 4.5 2019-09-26 15:57:50
{'userid': 6042, 'movieid': 34, 'rating': 4.5}
6042 34 4.5 2019-09-26 15:57:52
{'userid': 6042, 'movieid': 93, 'rating': 4.5}
6042 93 4.5 2019-09-26 15:57:56
{'userid': 6042, 'movieid': 96, 'rating': 4.5}
6042 96 4.5 2019-09-26 15:57:58
{'userid': 6042, 'movieid': 101, 'rating': 4.5}
6042 101 4.5 2019-09-26 15:58:00
{'userid': 6042, 'movieid': 129, 'rating': 4.5}
6042 129 4.5 2019-09-26 15:58:03
{'userid': 6042, 'movieid': 122, 'rating': 4.5}
6042 122 4.5 2019-09-26 15:58:06
{'userid': 6042, 'movieid': 115, 'rating': 4.5}
6042 115 4.5 2019-09-26 15:58:08
{'userid': 6042, 'movieid': 104, 'rating': 4.5}
6042 104 4.5 2019-09-26 15:58:10
로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
{'userid': 6042, 'movieid': 32, 'rating': 5}
6042 32 5 2019-09-26 15:58:32
{'userid': 6042, 'movieid': 66, 'rating': 3.5}
6042 66 3.5 2019-09-26 15:58:34
{'userid': 6042, 'movieid': 76, 'rating': 3.5}
6042 76 3.5 2019-09-26 15:58:36
{'userid': 6042, 'movieid': 160, 'rating': 5}
6042 160 5 2019-09-26 15:58:39
{'userid': 6042, 'movieid': 172, 'rating': 5}
6042 172 5 2019-09-26 15:58:41
{'userid': 6042, 'movieid': 173, 'rating': 5}
6042 173 5 2019-09-26 15:58:43
{'userid': 6042, 'movieid': 185, 'rating': 5}
6042 185 5 2019-09-26 15:58:49
{'userid': 6042, 'movieid': 541, 'rating': 5}
6042 541 5 2019-09-26 15:58:53
{'userid': 6042, 'movieid': 546, 'rating': 5}
6042 546 5 2019-09-26 15:58:55
{'userid': 6042, 'movieid': 735, 'rating': 5}
6042 735 5 2019-09-26 15:58:58
{'userid': 6042, 'movieid': 742, 'rating': 5}
6042 742 5 2019-09-26 15:59:00
{'userid': 6042, 'movieid': 775, 'rating': 5}
6042 775 5 2019-09-26 15:59:02
{'userid': 6042, 'movieid': 463, 'rating': 5}
6042 463 5 2019-09-26 15:59:05
{'userid': 6042, 'movieid': 464, 'rating': 5}
6042 464 5 2019-09-26 15:59:06
{'userid': 6042, 'movieid': 493, 'rating': 5}
6042 493 5 2019-09-26 15:59:08
{'userid': 6042, 'movieid': 732, 'rating': 5}
6042 732 5 2019-09-26 15:59:10
{'userid': 6042, 'movieid': 762, 'rating': 5}
6042 762 5 2019-09-26 15:59:12
{'userid': 6042, 'movieid': 910, 'rating': 5}
6042 910 5 2019-09-26 15:59:17
{'userid': 6042, 'movieid': 960, 'rating': 5}
6042 960 5 2019-09-26 15:59:21
{'userid': 6042, 'movieid': 962, 'rating': 5}
6042 962 5 2019-09-26 15:59:23
{'userid': 6042, 'movieid': 2033, 'rating': 5}
6042 2033 5 2019-09-26 15:59:27
{'userid': 6042, 'movieid': 2102, 'rating': 5}
6042 2102 5 2019-09-26 15:59:30
{'userid': 6042, 'movieid': 2116, 'rating': 5}
6042 2116 5 2019-09-26 15:59:32
로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
user1
<QuerySet [<Profile: Profile object (1)>]>
2024-02-17
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0
df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0
df_rating    movieid    rating
0        1  4.146435
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146435  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763645  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0[26/Sep/2019 15:59:50] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186
[26/Sep/2019 15:59:51] "GET /api/test/?userid=1 HTTP/1.1" 200 2851

예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns]
         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0[26/Sep/2019 16:00:06] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186

df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0
df_rating    movieid    rating
0        1  4.146435
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146435  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763645  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns][26/Sep/2019 16:00:10] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
[26/Sep/2019 16:00:12] "GET /api/auth/signup-many/ HTTP/1.1" 200 617809
[26/Sep/2019 16:00:40] "POST /api/auth/signin/ HTTP/1.1" 200 5
[26/Sep/2019 16:00:42] "POST /api/auth/signin/ HTTP/1.1" 200 322
[26/Sep/2019 16:00:42] "GET /api/auth/signup-many/?username=js HTTP/1.1" 200 89
[26/Sep/2019 16:00:42] "GET /api/subscribes/?user_id=6042 HTTP/1.1" 200 2
[26/Sep/2019 16:00:50] "POST /api/subscribes/ HTTP/1.1" 200 53
Internal Server Error: /api/jwb_view/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/jwb_view.py", line 51, in jwb_view
    pv_genre=df_genre_tmp.pivot_table(index="movieid",columns="genre",values="check",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 16:00:54] "GET /api/jwb_view/?userid=6043 HTTP/1.1" 500 16307
Internal Server Error: /api/test/
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/usr/local/lib/python3.6/dist-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/django/views/generic/base.py", line 71, in view
    return self.dispatch(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 497, in dispatch
    response = self.handle_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 457, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 468, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/views.py", line 494, in dispatch
    response = handler(request, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/rest_framework/decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/js_view.py", line 59, in test
    dfdf = df_rating.pivot_table(index="userid",columns="movieid",values="rating",fill_value=0)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py", line 6074, in pivot_table
    observed=observed,
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/reshape/pivot.py", line 96, in pivot_table
    agged = grouped.agg(aggfunc)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 1455, in aggregate
    return super().aggregate(arg, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 229, in aggregate
    result, how = self._aggregate(func, _level=_level, *args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 356, in _aggregate
    return self._try_aggregate_string_function(arg, *args, **kwargs), None
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/base.py", line 305, in _try_aggregate_string_function
    return f(*args, **kwargs)
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/groupby.py", line 1205, in mean
    "mean", alt=lambda x, axis: Series(x).mean(**kwargs), **kwargs
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 128, in _cython_agg_general
    how, alt=alt, numeric_only=numeric_only, min_count=min_count
  File "/usr/local/lib/python3.6/dist-packages/pandas/core/groupby/generic.py", line 188, in _cython_agg_blocks
    raise DataError("No numeric types to aggregate")
pandas.core.base.DataError: No numeric types to aggregate
[26/Sep/2019 16:00:55] "GET /api/test/?userid=6043 HTTP/1.1" 500 16283
[26/Sep/2019 16:02:02] "POST /api/auth/signin/ HTTP/1.1" 200 303
[26/Sep/2019 16:02:03] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 95
[26/Sep/2019 16:02:03] "GET /api/subscribes/?user_id=1 HTTP/1.1" 200 12

         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
js
<QuerySet [<Profile: Profile object (6042)>]>

로그인유저정보:  []
[]
Empty DataFrame
Columns: [movieid, genre, check]
Index: []
user1
<QuerySet [<Profile: Profile object (1)>]>
2024-02-17
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0
df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0[26/Sep/2019 16:02:05] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186
[26/Sep/2019 16:02:06] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[26/Sep/2019 16:05:16] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[26/Sep/2019 16:05:17] "GET / HTTP/1.0" 400 57937
[26/Sep/2019 16:12:30] "POST /api/auth/signup/ HTTP/1.1" 201 4
[26/Sep/2019 16:12:33] "GET /api/movies/ HTTP/1.1" 200 405768
[26/Sep/2019 16:12:39] "GET /api/auth/signup-many/ HTTP/1.1" 200 617898
[26/Sep/2019 16:12:43] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 16:12:49] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 16:12:53] "POST /api/ratings/ HTTP/1.1" 200 0
[26/Sep/2019 16:22:25] "POST /api/auth/signin/ HTTP/1.1" 200 303
[26/Sep/2019 16:22:27] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 95
[26/Sep/2019 16:22:27] "GET /api/subscribes/?user_id=1 HTTP/1.1" 200 12

df_rating    movieid    rating
0        1  4.146435
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146435  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763645  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns]
         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
ee 1 1 ee@naver.com
{'userid': 6043, 'movieid': 1, 'rating': 4}
6043 1 4 2019-09-26 16:12:43
{'userid': 6043, 'movieid': 3, 'rating': 4}
6043 3 4 2019-09-26 16:12:49
{'userid': 6043, 'movieid': 7, 'rating': 4}
6043 7 4 2019-09-26 16:12:53
user1
<QuerySet [<Profile: Profile object (1)>]>
2024-02-17
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0
df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0
df_rating    movieid    rating
0        1  4.146365
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146365  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763599  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0[26/Sep/2019 16:22:28] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186
[26/Sep/2019 16:22:29] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
[26/Sep/2019 16:23:54] "GET /api/movies/?viewcnt=&rating=&title=&select= HTTP/1.1" 200 405768
[26/Sep/2019 16:24:09] "GET /api/movies/?viewcnt=&rating=&title=harry&select= HTTP/1.1" 200 652
[26/Sep/2019 16:24:22] "GET /api/movies/?viewcnt=&rating=&title=&select= HTTP/1.1" 200 405768
[26/Sep/2019 16:26:36] "GET /api/movies/?viewcnt=&rating=&title=toy&select= HTTP/1.1" 200 715
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[26/Sep/2019 16:54:50] "GET / HTTP/1.0" 400 57935
[26/Sep/2019 16:56:32] "POST /api/auth/signin/ HTTP/1.1" 200 303
[26/Sep/2019 16:56:33] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 95
[26/Sep/2019 16:56:33] "GET /api/subscribes/?user_id=1 HTTP/1.1" 200 12

예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns]
         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
user1
<QuerySet [<Profile: Profile object (1)>]>
2024-02-17
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0[26/Sep/2019 16:56:34] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186

df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0
df_rating    movieid    rating
0        1  4.146365
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146365  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763599  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns][26/Sep/2019 16:56:34] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
[26/Sep/2019 16:56:46] "PUT /api/update/user/ HTTP/1.1" 200 2

         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
{'id': 1, 'age': '25', 'gender': 'M', 'occupation': 'college/grad student', 'is_staff': False, 'username': 'user1'}
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0
df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0[26/Sep/2019 16:57:00] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186
[26/Sep/2019 16:57:00] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
[26/Sep/2019 16:57:12] "POST /api/subscribes/ HTTP/1.1" 200 53
[26/Sep/2019 16:57:15] "POST /api/subscribes/ HTTP/1.1" 200 53
[26/Sep/2019 16:57:18] "POST /api/subscribes/ HTTP/1.1" 200 53
[26/Sep/2019 16:57:32] "POST /api/auth/signin/ HTTP/1.1" 200 279
[26/Sep/2019 16:57:33] "GET /api/auth/signup-many/?username=user7 HTTP/1.1" 200 101
[26/Sep/2019 16:57:33] "GET /api/subscribes/?user_id=7 HTTP/1.1" 200 2
[26/Sep/2019 16:57:44] "PUT /api/update/user/ HTTP/1.1" 200 2
[26/Sep/2019 16:57:48] "POST /api/subscribes/ HTTP/1.1" 200 53

df_rating    movieid    rating
0        1  4.146365
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146365  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763599  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns]
         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
user7
<QuerySet [<Profile: Profile object (7)>]>

{'id': 7, 'age': '25', 'gender': 'F', 'occupation': 'clerical/admin', 'is_staff': False, 'username': 'user7'}
로그인유저정보:  [(6, 'Action|Crime|Thriller'), (110, 'Action|Drama|War'), (349, 'Action|Adventure|Thriller'), (380, 'Action|Adventure|Comedy|Romance'), (442, 'Action|Sci-Fi'), (457, 'Action|Thriller'), (474, 'Action|Thriller'), (480, 'Action|Adventure|Sci-Fi'), (589, 'Action|Sci-Fi|Thriller'), (648, 'Action|Adventure|Mystery'), (733, 'Action|Adventure|Thriller'), (861, 'Action|Thriller'), (1196, 'Action|Adventure|Drama|Sci-Fi|War'), (1221, 'Action|Crime|Drama'), (1270, 'Comedy|Sci-Fi'), (1573, 'Action|Sci-Fi|Thriller'), (1580, 'Action|Adventure|Comedy|Sci-Fi'), (1610, 'Action|Thriller'), (1722, 'Action|Romance|Thriller'), (1997, 'Horror'), (2028, 'Action|Drama|War'), (2353, 'Action|Thriller'), (2571, 'Action|Sci-Fi|Thriller'), (2916, 'Action|Adventure|Sci-Fi|Thriller'), (3256, 'Action|Thriller'), (3753, 'Action|Drama|War')]
[[6, 1, 1], [6, 6, 1], [6, 16, 1], [110, 1, 1], [110, 8, 1], [110, 17, 1], [349, 1, 1], [349, 2, 1], [349, 16, 1], [380, 1, 1], [380, 2, 1], [380, 5, 1], [380, 14, 1], [442, 1, 1], [442, 15, 1], [457, 1, 1], [457, 16, 1], [474, 1, 1], [474, 16, 1], [480, 1, 1], [480, 2, 1], [480, 15, 1], [589, 1, 1], [589, 15, 1], [589, 16, 1], [648, 1, 1], [648, 2, 1], [648, 13, 1], [733, 1, 1], [733, 2, 1], [733, 16, 1], [861, 1, 1], [861, 16, 1], [1196, 1, 1], [1196, 2, 1], [1196, 8, 1], [1196, 15, 1], [1196, 17, 1], [1221, 1, 1], [1221, 6, 1], [1221, 8, 1], [1270, 5, 1], [1270, 15, 1], [1573, 1, 1], [1573, 15, 1], [1573, 16, 1], [1580, 1, 1], [1580, 2, 1], [1580, 5, 1], [1580, 15, 1], [1610, 1, 1], [1610, 16, 1], [1722, 1, 1], [1722, 14, 1], [1722, 16, 1], [1997, 11, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2353, 1, 1], [2353, 16, 1], [2571, 1, 1], [2571, 15, 1], [2571, 16, 1], [2916, 1, 1], [2916, 2, 1], [2916, 15, 1], [2916, 16, 1], [3256, 1, 1], [3256, 16, 1], [3753, 1, 1], [3753, 8, 1], [3753, 17, 1]][26/Sep/2019 16:57:56] "GET /api/jwb_view/?userid=7 HTTP/1.1" 200 3932

    movieid  genre  check
0         6      1      1
1         6      6      1
2         6     16      1
3       110      1      1
4       110      8      1
..      ...    ...    ...
68     3256      1      1
69     3256     16      1
70     3753      1      1
71     3753      8      1
72     3753     17      1

[73 rows x 3 columns]
genre    1   2   5   6   8   11  13  14  15  16  17
movieid                                            
6         1   0   0   1   0   0   0   0   0   1   0
110       1   0   0   0   1   0   0   0   0   0   1
349       1   1   0   0   0   0   0   0   0   1   0
380       1   1   1   0   0   0   0   1   0   0   0
442       1   0   0   0   0   0   0   0   1   0   0
457       1   0   0   0   0   0   0   0   0   1   0
474       1   0   0   0   0   0   0   0   0   1   0
480       1   1   0   0   0   0   0   0   1   0   0
589       1   0   0   0   0   0   0   0   1   1   0
648       1   1   0   0   0   0   1   0   0   0   0
733       1   1   0   0   0   0   0   0   0   1   0
861       1   0   0   0   0   0   0   0   0   1   0
1196      1   1   0   0   1   0   0   0   1   0   1
1221      1   0   0   1   1   0   0   0   0   0   0
1270      0   0   1   0   0   0   0   0   1   0   0
1573      1   0   0   0   0   0   0   0   1   1   0
1580      1   1   1   0   0   0   0   0   1   0   0
1610      1   0   0   0   0   0   0   0   0   1   0
1722      1   0   0   0   0   0   0   1   0   1   0
1997      0   0   0   0   0   1   0   0   0   0   0
2028      1   0   0   0   1   0   0   0   0   0   1
2353      1   0   0   0   0   0   0   0   0   1   0
2571      1   0   0   0   0   0   0   0   1   1   0
2916      1   1   0   0   0   0   0   0   1   1   0
3256      1   0   0   0   0   0   0   0   0   1   0
3753      1   0   0   0   1   0   0   0   0   0   1
df_genre     movieid  1  2  5  6  8  11  13  14  15  16  17
0         6  1  0  0  1  0   0   0   0   0   1   0
1       110  1  0  0  0  1   0   0   0   0   0   1
2       349  1  1  0  0  0   0   0   0   0   1   0
3       380  1  1  1  0  0   0   0   1   0   0   0
4       442  1  0  0  0  0   0   0   0   1   0   0
5       457  1  0  0  0  0   0   0   0   0   1   0
6       474  1  0  0  0  0   0   0   0   0   1   0
7       480  1  1  0  0  0   0   0   0   1   0   0
8       589  1  0  0  0  0   0   0   0   1   1   0
9       648  1  1  0  0  0   0   1   0   0   0   0
10      733  1  1  0  0  0   0   0   0   0   1   0
11      861  1  0  0  0  0   0   0   0   0   1   0
12     1196  1  1  0  0  1   0   0   0   1   0   1
13     1221  1  0  0  1  1   0   0   0   0   0   0
14     1270  0  0  1  0  0   0   0   0   1   0   0
15     1573  1  0  0  0  0   0   0   0   1   1   0
16     1580  1  1  1  0  0   0   0   0   1   0   0
17     1610  1  0  0  0  0   0   0   0   0   1   0
18     1722  1  0  0  0  0   0   0   1   0   1   0
19     1997  0  0  0  0  0   1   0   0   0   0   0
20     2028  1  0  0  0  1   0   0   0   0   0   1
21     2353  1  0  0  0  0   0   0   0   0   1   0
22     2571  1  0  0  0  0   0   0   0   1   1   0
23     2916  1  1  0  0  0   0   0   0   1   1   0
24     3256  1  0  0  0  0   0   0   0   0   1   0
25     3753  1  0  0  0  1   0   0   0   0   0   1
df_rating    movieid    rating
0        6  3.878594
1      110  4.234644
2      349  3.724953
3      380  3.633310
4      442  2.990610
   movieid    rating  1  2  5  6  8  11  13  14  15  16  17
0        6  3.878594  1  0  0  1  0   0   0   0   0   1   0
1      110  4.234644  1  0  0  0  1   0   0   0   0   0   1
2      349  3.724953  1  1  0  0  0   0   0   0   0   1   0
3      380  3.633310  1  1  1  0  0   0   0   1   0   0   0
4      442  2.990610  1  0  0  0  0   0   0   0   1   0   0
출력    movieid  rating  1  2  5  6  8  11  13  14  15  16  17
0     2353       5  1  0  0  0  0   0   0   0   0   1   0
['rating', '1', '2', '5', '6', '8', '11', '13', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11
0   0.649507  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
1   0.909936  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
2   0.537127  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
3   0.470096  1.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
4   0.000000  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
5   0.813506  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
6   0.609496  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
7   0.565512  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
8   0.780846  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
9   0.323218  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
10  0.535100  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
11  0.380655  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
12  0.952430  1.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  1.0
13  1.000000  1.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
14  0.731226  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
15  0.299959  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
16  0.548024  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
17  0.775965  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
18  0.329687  1.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0
19  0.705211  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
20  0.984879  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
21  0.508575  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
22  0.969125  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
23  0.505494  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
24  0.554578  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
25  0.551758  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
예측에 사용할 마이유저df:     movieid  rating  1  2  5  6  8  11  13  14  15  16  17
0     2353       5  1  0  0  0  0   0   0   0   0   1   0
마이유저의 df를 array로 변경:  [5, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0]
[[5 1 0 0 0 0 0 0 0 0 1 0]]
[1. 1. 0. 0. 0. 1. 1. 0. 1. 0. 0. 0. 0. 1. 0. 0. 0. 1. 0. 0. 1. 0. 1. 0.
 1. 0.]
0
1
5
6
8
13
17
20
22
24
['6', '110', '457', '474', '589', '1221', '1610', '2028', '2571', '3256']
추천 영화 10개 6,110,457,474,589,1221,1610,2028,2571,3256
     id  ...                             ImdbLink
0     6  ...  http://www.imdb.com/title/tt0113277
1   110  ...  http://www.imdb.com/title/tt0112573
2   457  ...                                 None
3   474  ...  http://www.imdb.com/title/tt0107206
4   589  ...  http://www.imdb.com/title/tt0103064
5  1221  ...                                 None
6  1610  ...                                 None
7  2028  ...  http://www.imdb.com/title/tt0120815
8  2571  ...                                 None
9  3256  ...  http://www.imdb.com/title/tt0105112

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  6  110  349  ...  2028  2353  2571  2916  3256  3753
0      56       1   35  4    4    0  ...     5     0     0     0     0     0
1      63       1   18  5    0    0  ...     0     0     0     0     0     4
2     161       1   45  5    0    0  ...     5     0     4     0     0     0
3     260       1   18  4    5    4  ...     5     0     5     0     0     0
4     374       0   35  5    0    0  ...     5     0     4     0     0     0

[5 rows x 29 columns]
         0         1         2         3   ...        24   25   26        27
0  0.027482  0.961887  0.109930  0.109930  ...  0.000000  0.0  0.0  0.000000
1  0.052271  0.940875  0.261354  0.000000  ...  0.000000  0.0  0.0  0.209083
2  0.021652  0.974355  0.108262  0.000000  ...  0.086609  0.0  0.0  0.000000
3  0.043437  0.781870  0.173749  0.217186  ...  0.217186  0.0  0.0  0.000000
4  0.000000  0.968122  0.138303  0.000000  ...  0.110643  0.0  0.0  0.000000

[5 rows x 28 columns]
유사한 유저 id ['1088', '1468', '4006', '5118', '1928']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   260  ...  http://www.imdb.com/title/tt0076759
4   527  ...  http://www.imdb.com/title/tt0108052
5   745  ...                                 None
6   858  ...                                 None
7   904  ...  http://www.imdb.com/title/tt0047396
8   922  ...                                 None
9  1148  ...                                 None

[10 rows x 9 columns][26/Sep/2019 16:57:56] "GET /api/test/?userid=7 HTTP/1.1" 200 3301
[26/Sep/2019 16:58:55] "GET /api/movies/?viewcnt=&rating=&title=toy&select= HTTP/1.1" 200 715
[26/Sep/2019 16:58:56] "GET /api/ratings/?mode=user&movieid=1 HTTP/1.1" 200 217
[26/Sep/2019 16:58:57] "PUT /api/movies/?movieid=1 HTTP/1.1" 200 2
[26/Sep/2019 16:59:01] "GET /api/recommends/?movieid=1 HTTP/1.1" 200 299
[26/Sep/2019 16:59:41] "GET /api/ratings/?mode=mostview&select=gender&where=M HTTP/1.1" 200 200524
[26/Sep/2019 16:59:59] "GET /api/ratings/?mode=mostview&select=occupation&where=academic%2Feducator HTTP/1.1" 200 172958

로그인유저정보:  [(6, 'Action|Crime|Thriller'), (110, 'Action|Drama|War'), (349, 'Action|Adventure|Thriller'), (380, 'Action|Adventure|Comedy|Romance'), (442, 'Action|Sci-Fi'), (457, 'Action|Thriller'), (474, 'Action|Thriller'), (480, 'Action|Adventure|Sci-Fi'), (589, 'Action|Sci-Fi|Thriller'), (648, 'Action|Adventure|Mystery'), (733, 'Action|Adventure|Thriller'), (861, 'Action|Thriller'), (1196, 'Action|Adventure|Drama|Sci-Fi|War'), (1221, 'Action|Crime|Drama'), (1270, 'Comedy|Sci-Fi'), (1573, 'Action|Sci-Fi|Thriller'), (1580, 'Action|Adventure|Comedy|Sci-Fi'), (1610, 'Action|Thriller'), (1722, 'Action|Romance|Thriller'), (1997, 'Horror'), (2028, 'Action|Drama|War'), (2353, 'Action|Thriller'), (2571, 'Action|Sci-Fi|Thriller'), (2916, 'Action|Adventure|Sci-Fi|Thriller'), (3256, 'Action|Thriller'), (3753, 'Action|Drama|War')]
[[6, 1, 1], [6, 6, 1], [6, 16, 1], [110, 1, 1], [110, 8, 1], [110, 17, 1], [349, 1, 1], [349, 2, 1], [349, 16, 1], [380, 1, 1], [380, 2, 1], [380, 5, 1], [380, 14, 1], [442, 1, 1], [442, 15, 1], [457, 1, 1], [457, 16, 1], [474, 1, 1], [474, 16, 1], [480, 1, 1], [480, 2, 1], [480, 15, 1], [589, 1, 1], [589, 15, 1], [589, 16, 1], [648, 1, 1], [648, 2, 1], [648, 13, 1], [733, 1, 1], [733, 2, 1], [733, 16, 1], [861, 1, 1], [861, 16, 1], [1196, 1, 1], [1196, 2, 1], [1196, 8, 1], [1196, 15, 1], [1196, 17, 1], [1221, 1, 1], [1221, 6, 1], [1221, 8, 1], [1270, 5, 1], [1270, 15, 1], [1573, 1, 1], [1573, 15, 1], [1573, 16, 1], [1580, 1, 1], [1580, 2, 1], [1580, 5, 1], [1580, 15, 1], [1610, 1, 1], [1610, 16, 1], [1722, 1, 1], [1722, 14, 1], [1722, 16, 1], [1997, 11, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2353, 1, 1], [2353, 16, 1], [2571, 1, 1], [2571, 15, 1], [2571, 16, 1], [2916, 1, 1], [2916, 2, 1], [2916, 15, 1], [2916, 16, 1], [3256, 1, 1], [3256, 16, 1], [3753, 1, 1], [3753, 8, 1], [3753, 17, 1]]
    movieid  genre  check
0         6      1      1
1         6      6      1
2         6     16      1
3       110      1      1
4       110      8      1
..      ...    ...    ...
68     3256      1      1
69     3256     16      1
70     3753      1      1
71     3753      8      1
72     3753     17      1

[73 rows x 3 columns]
genre    1   2   5   6   8   11  13  14  15  16  17
movieid                                            
6         1   0   0   1   0   0   0   0   0   1   0
110       1   0   0   0   1   0   0   0   0   0   1
349       1   1   0   0   0   0   0   0   0   1   0
380       1   1   1   0   0   0   0   1   0   0   0
442       1   0   0   0   0   0   0   0   1   0   0
457       1   0   0   0   0   0   0   0   0   1   0
474       1   0   0   0   0   0   0   0   0   1   0
480       1   1   0   0   0   0   0   0   1   0   0
589       1   0   0   0   0   0   0   0   1   1   0
648       1   1   0   0   0   0   1   0   0   0   0
733       1   1   0   0   0   0   0   0   0   1   0
861       1   0   0   0   0   0   0   0   0   1   0
1196      1   1   0   0   1   0   0   0   1   0   1
1221      1   0   0   1   1   0   0   0   0   0   0
1270      0   0   1   0   0   0   0   0   1   0   0
1573      1   0   0   0   0   0   0   0   1   1   0
1580      1   1   1   0   0   0   0   0   1   0   0
1610      1   0   0   0   0   0   0   0   0   1   0
1722      1   0   0   0   0   0   0   1   0   1   0
1997      0   0   0   0   0   1   0   0   0   0   0
2028      1   0   0   0   1   0   0   0   0   0   1
2353      1   0   0   0   0   0   0   0   0   1   0
2571      1   0   0   0   0   0   0   0   1   1   0
2916      1   1   0   0   0   0   0   0   1   1   0
3256      1   0   0   0   0   0   0   0   0   1   0
3753      1   0   0   0   1   0   0   0   0   0   1
df_genre     movieid  1  2  5  6  8  11  13  14  15  16  17
0         6  1  0  0  1  0   0   0   0   0   1   0
1       110  1  0  0  0  1   0   0   0   0   0   1
2       349  1  1  0  0  0   0   0   0   0   1   0
3       380  1  1  1  0  0   0   0   1   0   0   0
4       442  1  0  0  0  0   0   0   0   1   0   0
5       457  1  0  0  0  0   0   0   0   0   1   0
6       474  1  0  0  0  0   0   0   0   0   1   0
7       480  1  1  0  0  0   0   0   0   1   0   0
8       589  1  0  0  0  0   0   0   0   1   1   0
9       648  1  1  0  0  0   0   1   0   0   0   0
10      733  1  1  0  0  0   0   0   0   0   1   0
11      861  1  0  0  0  0   0   0   0   0   1   0
12     1196  1  1  0  0  1   0   0   0   1   0   1
13     1221  1  0  0  1  1   0   0   0   0   0   0
14     1270  0  0  1  0  0   0   0   0   1   0   0
15     1573  1  0  0  0  0   0   0   0   1   1   0
16     1580  1  1  1  0  0   0   0   0   1   0   0
17     1610  1  0  0  0  0   0   0   0   0   1   0
18     1722  1  0  0  0  0   0   0   1   0   1   0
19     1997  0  0  0  0  0   1   0   0   0   0   0
20     2028  1  0  0  0  1   0   0   0   0   0   1
21     2353  1  0  0  0  0   0   0   0   0   1   0
22     2571  1  0  0  0  0   0   0   0   1   1   0
23     2916  1  1  0  0  0   0   0   0   1   1   0
24     3256  1  0  0  0  0   0   0   0   0   1   0
25     3753  1  0  0  0  1   0   0   0   0   0   1
df_rating    movieid    rating
0        6  3.878594
1      110  4.234644
2      349  3.724953
3      380  3.633310
4      442  2.990610
   movieid    rating  1  2  5  6  8  11  13  14  15  16  17
0        6  3.878594  1  0  0  1  0   0   0   0   0   1   0
1      110  4.234644  1  0  0  0  1   0   0   0   0   0   1
2      349  3.724953  1  1  0  0  0   0   0   0   0   1   0
3      380  3.633310  1  1  1  0  0   0   0   1   0   0   0
4      442  2.990610  1  0  0  0  0   0   0   0   1   0   0
출력    movieid  rating  1  2  5  6  8  11  13  14  15  16  17
0     2353       5  1  0  0  0  0   0   0   0   0   1   0
['rating', '1', '2', '5', '6', '8', '11', '13', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11
0   0.649507  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
1   0.909936  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
2   0.537127  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
3   0.470096  1.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
4   0.000000  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
5   0.813506  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
6   0.609496  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
7   0.565512  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
8   0.780846  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
9   0.323218  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
10  0.535100  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
11  0.380655  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
12  0.952430  1.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  1.0
13  1.000000  1.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
14  0.731226  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
15  0.299959  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
16  0.548024  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
17  0.775965  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
18  0.329687  1.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0
19  0.705211  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
20  0.984879  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
21  0.508575  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
22  0.969125  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
23  0.505494  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0
24  0.554578  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
25  0.551758  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
예측에 사용할 마이유저df:     movieid  rating  1  2  5  6  8  11  13  14  15  16  17
0     2353       5  1  0  0  0  0   0   0   0   0   1   0
마이유저의 df를 array로 변경:  [5, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0]
[[5 1 0 0 0 0 0 0 0 0 1 0]]
[1. 1. 0. 0. 0. 1. 1. 0. 1. 0. 0. 0. 0. 1. 0. 0. 0. 1. 0. 0. 1. 0. 1. 0.
 1. 0.]
0
1
5
6
8
13
17
20
22
24
['6', '110', '457', '474', '589', '1221', '1610', '2028', '2571', '3256']
추천 영화 10개 6,110,457,474,589,1221,1610,2028,2571,3256
     id  ...                             ImdbLink
0     6  ...  http://www.imdb.com/title/tt0113277
1   110  ...  http://www.imdb.com/title/tt0112573
2   457  ...                                 None
3   474  ...  http://www.imdb.com/title/tt0107206
4   589  ...  http://www.imdb.com/title/tt0103064
5  1221  ...                                 None
6  1610  ...                                 None
7  2028  ...  http://www.imdb.com/title/tt0120815
8  2571  ...                                 None
9  3256  ...  http://www.imdb.com/title/tt0105112

[10 rows x 9 columns][26/Sep/2019 17:00:10] "GET /api/jwb_view/?userid=7 HTTP/1.1" 200 3932
[26/Sep/2019 17:00:11] "GET /api/test/?userid=7 HTTP/1.1" 200 3301
[26/Sep/2019 17:00:55] "POST /api/auth/signin/ HTTP/1.1" 200 304
[26/Sep/2019 17:00:56] "GET /api/auth/signup-many/?username=admin HTTP/1.1" 200 91
[26/Sep/2019 17:00:56] "GET /api/subscribes/?user_id=6041 HTTP/1.1" 200 2
[26/Sep/2019 17:00:59] "GET /api/movies/ HTTP/1.1" 200 405768
[26/Sep/2019 17:01:05] "GET /api/auth/signup-many/ HTTP/1.1" 200 617904
/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/recommend_views.py:87: FutureWarning: SparseDataFrame is deprecated and will be removed in a future version.
Use a regular DataFrame whose columns are SparseArrays instead.

See http://pandas.pydata.org/pandas-docs/stable/user_guide/sparse.html#migrating for more.

  sparse_ratings = csr_matrix(pd.SparseDataFrame(most_rated_movies_1k).to_coo())
/usr/local/lib/python3.6/dist-packages/pandas/core/frame.py:3456: FutureWarning: SparseSeries is deprecated and will be removed in a future version.
Use a Series with sparse values instead.

    >>> series = pd.Series(pd.SparseArray(...))

See http://pandas.pydata.org/pandas-docs/stable/user_guide/sparse.html#migrating for more.

  return klass(values, index=self.index, name=items, fastpath=True)
[26/Sep/2019 17:01:48] "POST /api/recommends/ HTTP/1.1" 200 6001
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 00:40:19] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 00:41:26] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 00:45:40] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 00:47:58] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 00:54:41] "GET / HTTP/1.0" 400 57936
----------------------------------------
Exception happened during processing of request from ('59.80.31.23', 42491)
Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 169, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 179, in handle_one_request
    self.raw_requestline = self.rfile.readline(65537)
  File "/usr/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
----------------------------------------
Invalid HTTP_HOST header: 'www.baidu.com'. You may need to add 'www.baidu.com' to ALLOWED_HOSTS.
Bad Request: /www.baidu.com:443
[27/Sep/2019 06:18:40] "CONNECT www.baidu.com:443 HTTP/1.0" 400 58188
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 06:49:47] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 07:43:39] "GET / HTTP/1.0" 400 57935
Not Found: /
[27/Sep/2019 07:50:05] "GET / HTTP/1.1" 404 2031
[27/Sep/2019 08:41:39] code 400, message Bad request version ('HTTP')
[27/Sep/2019 08:41:39] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 09:50:07] "GET / HTTP/1.0" 400 57938
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 11:57:44] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 13:01:14] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 13:01:36] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 15:12:49] "GET / HTTP/1.0" 400 57937
Not Found: /
[27/Sep/2019 16:00:12] "GET / HTTP/1.1" 404 2031
----------------------------------------
Exception happened during processing of request from ('198.108.67.48', 19012)
Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 171, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 179, in handle_one_request
    self.raw_requestline = self.rfile.readline(65537)
  File "/usr/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
----------------------------------------
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 16:47:54] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 20:54:40] "GET / HTTP/1.0" 400 57935
[27/Sep/2019 22:18:37] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00*%à\x00\x00\x00\x00\x00Cookie:')
[27/Sep/2019 22:18:37] "  *%à     Cookie: mstshash=Test" 400 -
[27/Sep/2019 22:18:38] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00*%à\x00\x00\x00\x00\x00Cookie:')
[27/Sep/2019 22:18:38] "  *%à     Cookie: mstshash=Test" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 23:30:43] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 23:30:51] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[27/Sep/2019 23:59:32] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 00:03:34] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 00:52:00] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 00:55:23] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 00:55:33] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 00:55:56] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 02:01:42] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 02:21:12] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 02:24:14] "GET / HTTP/1.0" 400 57936
[28/Sep/2019 02:51:53] code 400, message Bad request version ('HTTP')
[28/Sep/2019 02:51:53] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 07:12:41] "GET / HTTP/1.0" 400 57935
[28/Sep/2019 08:31:57] code 400, message Bad request version ('HTTP')
[28/Sep/2019 08:31:57] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 09:02:50] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 09:21:53] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 11:31:57] "GET / HTTP/1.0" 400 57937
[28/Sep/2019 11:52:48] code 400, message Bad request version ('À\x14À')
[28/Sep/2019 11:52:48] You're accessing the development server over HTTPS, but it only supports HTTP.

[28/Sep/2019 13:30:18] code 400, message Bad request version ('HTTP')
[28/Sep/2019 13:30:18] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
[28/Sep/2019 17:42:53] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[28/Sep/2019 17:42:53] "  /*à     Cookie: mstshash=Administr" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[28/Sep/2019 17:53:25] "GET / HTTP/1.0" 400 57935
[28/Sep/2019 18:29:48] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[28/Sep/2019 18:29:48] "  /*à     Cookie: mstshash=Administr" 400 -
[28/Sep/2019 23:38:35] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[28/Sep/2019 23:38:35] "  /*à     Cookie: mstshash=Administr" 400 -
[28/Sep/2019 23:57:28] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[28/Sep/2019 23:57:28] "  /*à     Cookie: mstshash=Administr" 400 -
Not Found: /
[29/Sep/2019 05:35:45] "GET / HTTP/1.1" 404 2031
[29/Sep/2019 12:34:17] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[29/Sep/2019 12:34:17] "  /*à     Cookie: mstshash=Administr" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[29/Sep/2019 16:42:39] "GET / HTTP/1.0" 400 57935
[29/Sep/2019 19:17:27] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[29/Sep/2019 19:17:27] "  /*à     Cookie: mstshash=Administr" 400 -
Not Found: /
[29/Sep/2019 21:45:12] "GET / HTTP/1.1" 404 2026
[29/Sep/2019 22:01:57] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00*%à\x00\x00\x00\x00\x00Cookie:')
[29/Sep/2019 22:01:57] "  *%à     Cookie: mstshash=Test" 400 -
[29/Sep/2019 22:01:57] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00*%à\x00\x00\x00\x00\x00Cookie:')
[29/Sep/2019 22:01:57] "  *%à     Cookie: mstshash=Test" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[29/Sep/2019 23:03:31] "GET / HTTP/1.0" 400 57936
[30/Sep/2019 00:15:28] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00+&à\x00\x00\x00\x00\x00Cookie:')
[30/Sep/2019 00:15:28] "  +&à     Cookie: mstshash=hello" 400 -
Not Found: /
[30/Sep/2019 04:50:58] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[30/Sep/2019 05:45:37] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[30/Sep/2019 06:30:59] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[30/Sep/2019 10:40:25] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[30/Sep/2019 11:23:22] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[30/Sep/2019 23:29:39] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[01/Oct/2019 01:12:50] "GET / HTTP/1.0" 400 57936
Not Found: /
[01/Oct/2019 04:34:23] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[01/Oct/2019 05:17:07] "GET / HTTP/1.0" 400 58186
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[01/Oct/2019 15:41:10] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[01/Oct/2019 18:26:51] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[01/Oct/2019 19:02:56] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[01/Oct/2019 19:16:46] "GET / HTTP/1.0" 400 57934
[01/Oct/2019 21:51:38] code 400, message Bad request syntax ('\x04\x01\x00\x19^d´h\x00')
[01/Oct/2019 21:51:38] " ^d´h " 400 -
[2019-10-01 21:51:38,166] - Broken pipe from ('163.172.106.112', 43404)

[01/Oct/2019 21:52:38] code 400, message Bad request syntax ('\x05\x01\x00')
[01/Oct/2019 21:52:38] " " 400 -
[2019-10-01 21:52:38,459] - Broken pipe from ('163.172.106.112', 44488)

[02/Oct/2019 00:00:02] code 400, message Bad request version ('HTTP')
[02/Oct/2019 00:00:02] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Not Found: /
[02/Oct/2019 04:57:12] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[02/Oct/2019 04:58:21] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[02/Oct/2019 08:45:15] "GET / HTTP/1.0" 400 57935
Traceback (most recent call last):
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 180, in finish_response
    self.write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 279, in write
    self._write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 453, in _write
    result = self.stdout.write(data)
  File "/usr/lib/python3.6/socketserver.py", line 803, in write
    self._sock.sendall(b)
TimeoutError: [Errno 110] Connection timed out
[02/Oct/2019 08:45:15] "GET / HTTP/1.0" 500 59
----------------------------------------
Exception happened during processing of request from ('31.168.247.24', 38457)
Traceback (most recent call last):
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 180, in finish_response
    self.write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 279, in write
    self._write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 453, in _write
    result = self.stdout.write(data)
  File "/usr/lib/python3.6/socketserver.py", line 803, in write
    self._sock.sendall(b)
TimeoutError: [Errno 110] Connection timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 141, in run
    self.handle_error()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 116, in handle_error
    super().handle_error()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 368, in handle_error
    self.finish_response()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 180, in finish_response
    self.write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 274, in write
    self.send_headers()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 331, in send_headers
    if not self.origin_server or self.client_is_modern():
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 344, in client_is_modern
    return self.environ['SERVER_PROTOCOL'].upper() != 'HTTP/0.9'
TypeError: 'NoneType' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 169, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 194, in handle_one_request
    handler.run(self.server.get_app())
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 144, in run
    self.close()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 111, in close
    super().close()
  File "/usr/lib/python3.6/wsgiref/simple_server.py", line 35, in close
    self.status.split(' ',1)[0], self.bytes_sent
AttributeError: 'NoneType' object has no attribute 'split'
----------------------------------------
[02/Oct/2019 09:20:54] code 400, message Bad request version ('HTTP')
[02/Oct/2019 09:20:54] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Not Found: /
[02/Oct/2019 10:02:38] "GET / HTTP/1.1" 404 2031
----------------------------------------
Exception happened during processing of request from ('198.108.67.48', 25508)
Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 171, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 179, in handle_one_request
    self.raw_requestline = self.rfile.readline(65537)
  File "/usr/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
----------------------------------------
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[02/Oct/2019 11:11:18] "GET / HTTP/1.0" 400 57934
Not Found: /
[02/Oct/2019 13:26:03] "GET / HTTP/1.1" 404 2031
[02/Oct/2019 15:43:12] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[02/Oct/2019 15:43:12] "  /*à     Cookie: mstshash=Administr" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[02/Oct/2019 17:10:26] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[02/Oct/2019 19:56:09] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[02/Oct/2019 19:56:34] "GET / HTTP/1.0" 400 57936
Not Found: /
[03/Oct/2019 00:56:23] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[03/Oct/2019 02:23:49] "GET /Pages/login.htm HTTP/1.1" 400 58740
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[03/Oct/2019 03:21:21] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[03/Oct/2019 04:42:08] "GET /Pages/login.htm HTTP/1.1" 400 58742
Not Found: /
[03/Oct/2019 05:40:14] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[03/Oct/2019 05:55:34] "GET /Pages/login.htm HTTP/1.1" 400 58743
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[03/Oct/2019 11:27:14] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[03/Oct/2019 15:49:50] "GET /Pages/login.htm HTTP/1.1" 400 58741
[03/Oct/2019 16:31:12] code 400, message Bad request version ('HTTP')
[03/Oct/2019 16:31:12] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
[03/Oct/2019 17:21:02] code 400, message Bad request version ('HTTP')
[03/Oct/2019 17:21:02] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
[03/Oct/2019 17:42:12] code 400, message Bad request version ('HTTP')
[03/Oct/2019 17:42:12] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Not Found: /
[03/Oct/2019 18:15:03] "GET / HTTP/1.1" 404 2031
[03/Oct/2019 18:59:21] code 400, message Bad request version ('HTTP')
[03/Oct/2019 18:59:21] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
[03/Oct/2019 19:11:34] code 400, message Bad request version ('HTTP')
[03/Oct/2019 19:11:34] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
[03/Oct/2019 19:58:14] code 400, message Bad request version ('HTTP')
[03/Oct/2019 19:58:14] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[03/Oct/2019 22:28:51] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[03/Oct/2019 22:48:40] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[03/Oct/2019 22:50:48] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[04/Oct/2019 03:53:33] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[04/Oct/2019 06:54:06] "GET / HTTP/1.0" 400 57935
[04/Oct/2019 10:09:38] "GET /api/movies/?viewcnt=&rating=&title=&select= HTTP/1.1" 200 405768
[04/Oct/2019 10:09:54] "GET /api/ratings/?mode=user&movieid=2 HTTP/1.1" 200 221
[04/Oct/2019 10:09:55] "PUT /api/movies/?movieid=2 HTTP/1.1" 200 2
[04/Oct/2019 10:09:59] "GET /api/recommends/?movieid=2 HTTP/1.1" 200 328
[04/Oct/2019 10:19:33] "GET /api/movies/?viewcnt=&rating=&title=&select= HTTP/1.1" 200 405768
[04/Oct/2019 10:19:35] "GET /api/ratings/?mode=user&movieid=2 HTTP/1.1" 200 221
[04/Oct/2019 10:19:35] "PUT /api/movies/?movieid=2 HTTP/1.1" 200 2
[04/Oct/2019 10:19:39] "GET /api/recommends/?movieid=2 HTTP/1.1" 200 328
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[04/Oct/2019 11:09:30] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[04/Oct/2019 13:48:39] "GET / HTTP/1.0" 400 57933
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[04/Oct/2019 18:45:17] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[04/Oct/2019 18:50:53] "GET /Pages/login.htm HTTP/1.1" 400 58743
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[04/Oct/2019 19:04:25] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[04/Oct/2019 19:47:30] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[04/Oct/2019 20:09:26] "GET /Pages/login.htm HTTP/1.1" 400 58741
Not Found: /
[04/Oct/2019 20:11:10] "GET / HTTP/1.1" 404 2026
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[04/Oct/2019 20:11:52] "GET /Pages/login.htm HTTP/1.1" 400 58741
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[04/Oct/2019 20:43:27] "GET /Pages/login.htm HTTP/1.1" 400 58742
[04/Oct/2019 21:08:42] code 400, message Bad request version ('HTTP')
[04/Oct/2019 21:08:42] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[04/Oct/2019 22:20:39] "GET /Pages/login.htm HTTP/1.1" 400 58740
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[04/Oct/2019 22:36:54] "GET /Pages/login.htm HTTP/1.1" 400 58741
[05/Oct/2019 01:54:37] code 400, message Bad request version ('HTTP')
[05/Oct/2019 01:54:37] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[05/Oct/2019 05:02:56] "GET /Pages/login.htm HTTP/1.1" 400 58741
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[05/Oct/2019 05:34:14] "GET /Pages/login.htm HTTP/1.1" 400 58742
[05/Oct/2019 06:42:49] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[05/Oct/2019 06:42:49] "  /*à     Cookie: mstshash=Administr" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[05/Oct/2019 08:15:19] "GET /Pages/login.htm HTTP/1.1" 400 58742
Not Found: /
[05/Oct/2019 08:57:57] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[05/Oct/2019 13:16:31] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[05/Oct/2019 15:48:58] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[05/Oct/2019 16:02:02] "GET /Pages/login.htm HTTP/1.1" 400 58742
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[05/Oct/2019 17:04:27] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[05/Oct/2019 17:12:04] "GET / HTTP/1.0" 400 57935
[05/Oct/2019 17:12:27] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[05/Oct/2019 17:12:27] "  /*à     Cookie: mstshash=Administr" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[05/Oct/2019 18:49:17] "GET / HTTP/1.0" 400 57936
Not Found: /
[05/Oct/2019 20:21:30] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[05/Oct/2019 20:59:33] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[05/Oct/2019 22:16:00] "GET /Pages/login.htm HTTP/1.1" 400 58740
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /Pages/login.htm
[06/Oct/2019 01:26:35] "GET /Pages/login.htm HTTP/1.1" 400 58742
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 02:16:02] "GET / HTTP/1.0" 400 57935
----------------------------------------
Exception happened during processing of request from ('104.152.52.25', 43343)
Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 169, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 179, in handle_one_request
    self.raw_requestline = self.rfile.readline(65537)
  File "/usr/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
----------------------------------------
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 06:32:02] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 08:22:41] "GET / HTTP/1.0" 400 57937
Not Found: /
[06/Oct/2019 08:34:44] "GET / HTTP/1.1" 404 2031
[06/Oct/2019 10:07:37] code 400, message Bad HTTP/0.9 request type ('service')
[06/Oct/2019 10:07:37] "service launcher" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 10:07:37] "GET / HTTP/1.0" 400 58059
Traceback (most recent call last):
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 180, in finish_response
    self.write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 279, in write
    self._write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 453, in _write
    result = self.stdout.write(data)
  File "/usr/lib/python3.6/socketserver.py", line 803, in write
    self._sock.sendall(b)
ConnectionResetError: [Errno 104] Connection reset by peer
[06/Oct/2019 10:07:37] "GET / HTTP/1.0" 500 59
----------------------------------------
Exception happened during processing of request from ('106.75.3.52', 51118)
Traceback (most recent call last):
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 138, in run
    self.finish_response()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 180, in finish_response
    self.write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 279, in write
    self._write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 453, in _write
    result = self.stdout.write(data)
  File "/usr/lib/python3.6/socketserver.py", line 803, in write
    self._sock.sendall(b)
ConnectionResetError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 141, in run
    self.handle_error()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 116, in handle_error
    super().handle_error()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 368, in handle_error
    self.finish_response()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 180, in finish_response
    self.write(data)
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 274, in write
    self.send_headers()
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 331, in send_headers
    if not self.origin_server or self.client_is_modern():
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 344, in client_is_modern
    return self.environ['SERVER_PROTOCOL'].upper() != 'HTTP/0.9'
TypeError: 'NoneType' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 169, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 194, in handle_one_request
    handler.run(self.server.get_app())
  File "/usr/lib/python3.6/wsgiref/handlers.py", line 144, in run
    self.close()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 111, in close
    super().close()
  File "/usr/lib/python3.6/wsgiref/simple_server.py", line 35, in close
    self.status.split(' ',1)[0], self.bytes_sent
AttributeError: 'NoneType' object has no attribute 'split'
----------------------------------------
Not Found: /
[06/Oct/2019 10:07:42] "GET / HTTP/1.0" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 14:20:13] "GET / HTTP/1.0" 400 57935
[06/Oct/2019 16:35:17] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[06/Oct/2019 16:35:17] "  /*à     Cookie: mstshash=Administr" 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 17:19:11] "GET / HTTP/1.0" 400 57936
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 18:52:11] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 19:59:13] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[06/Oct/2019 23:24:15] "GET / HTTP/1.0" 400 57935
Not Found: /
[07/Oct/2019 04:00:59] "GET / HTTP/1.1" 404 2031
Not Found: /
[07/Oct/2019 05:04:34] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[07/Oct/2019 05:30:16] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[07/Oct/2019 09:04:17] "GET / HTTP/1.0" 400 57933
[07/Oct/2019 09:34:38] "POST /api/auth/signin/ HTTP/1.1" 200 303
[07/Oct/2019 09:34:39] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 104
[07/Oct/2019 09:34:39] "GET /api/subscribes/?user_id=1 HTTP/1.1" 200 12

rating이랑 유저정보 합체    userid  gender  age  6  110  349  ...  2028  2353  2571  2916  3256  3753
0      56       1   35  4    4    0  ...     5     0     0     0     0     0
1      63       1   18  5    0    0  ...     0     0     0     0     0     4
2     161       1   45  5    0    0  ...     5     0     4     0     0     0
3     260       1   18  4    5    4  ...     5     0     5     0     0     0
4     374       0   35  5    0    0  ...     5     0     4     0     0     0

[5 rows x 29 columns]
         0         1         2         3   ...        24   25   26        27
0  0.027482  0.961887  0.109930  0.109930  ...  0.000000  0.0  0.0  0.000000
1  0.052271  0.940875  0.261354  0.000000  ...  0.000000  0.0  0.0  0.209083
2  0.021652  0.974355  0.108262  0.000000  ...  0.086609  0.0  0.0  0.000000
3  0.043437  0.781870  0.173749  0.217186  ...  0.217186  0.0  0.0  0.000000
4  0.000000  0.968122  0.138303  0.000000  ...  0.110643  0.0  0.0  0.000000

[5 rows x 28 columns]
유사한 유저 id ['1088', '1468', '4006', '5118', '1928']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   260  ...  http://www.imdb.com/title/tt0076759
4   527  ...  http://www.imdb.com/title/tt0108052
5   745  ...                                 None
6   858  ...                                 None
7   904  ...  http://www.imdb.com/title/tt0047396
8   922  ...                                 None
9  1148  ...                                 None

[10 rows x 9 columns]
admin
<QuerySet [<Profile: Profile object (6041)>]>

postKMeansResult 함수 시작
The dataset contains:  100025  ratings of  3883  movies.
predictions
[ 1 16  1  1 11  1  1 11 11 13 11  1  6  1 11  1  6 15 16  1  1 15  6  7
  6 15  7  7 16  1  1  1  3 11  7  9  1  1  1  1  1  6  1  6  7  1  1 18
 16  1  1 11  8  1  1 11  1  8  7  1  1  3  1  1 16  1  7  1  1  1  1  1
  9  1  1 11  1 11  1  1  7 11  1  1  1  1  1  7  1 11  1  0  6  1 11 11
  7  1 11  1 16  1 11  1 16  1  7  1  1  1 11  1  1  1  1  1  8 15  1  7
  6  1 17  1 16  1 16  1 16 16  3 11 11 11  1  3 11  1 15  1  1  1 11  1
  1  3 16  8 10  3 19  1  1  1  1 11  3  1  1  1  3 11  9  1  1 15  1  1
  4 16  1  1  3 16 10  1  1  1  6  1 15 11  7  1  1 16  5  1  1 16  1 14
  7  1  8  1  1 18 15  1 11 14  1  9  7  1  1 16  1 11  1 16  1 11  1 19
  1  1  1  7  1  6  9  7 10  1  1  1 11 16 16 11  1  1  3 16  0  7  7 16
  1 11  1 11 17  1  1  1 16  1  1  1  1  1 15 16 11 16 11 16  3  6 11 15
  7  7 11  9  1 16 13 18  9 16 16  1  1  1  1  1 11  1  1  8  7  1 11 16
 16  1  7  1  7  1 16  1  7  1  7 15  0 14 11  1  1  9  7  4 16 11  1  1
  1  3  1  6  1  1 10  1 16  1 16  1  1  3  7  1 18  1 10 11  7  1  1  6
  6  9  7  1  1  6  6  1  1  0  7  1 16 11 16 14  1  1  9  1  1  1  1  1
  1  1  1  1  1  3  1  5  1  1 11  9  1  1  1 11 16  1  1 11  1  1  1  1
 16 11  1  1 11  1  1  4  1  1  1  7  1 16  1  1  1 19  0  1  1 16  1  7
 19 11 19  4 11  1  3  1  1  1 11  1  1  1  1 12 16 16  1  1 16  1 16  1
  1  1 16  6  1 18 11  1  1 19  1  7  6  1  1  1  1  1  7 11 19 11  1 16
 16  1  1  1 17  6 11  1  1  7  1  1  1  1  6  1  1 11 15 18 16  1 16 11
 16  4  1  1  1  1  1  1  1  1  1  1 11 11  1 16  1  7  7  1  1  1  1  1
 16  1  1  6 14  6  1  1 11 11  7  6 11  7  1  3  1  6 16  2  1 16  1  0
  7  6 14  1 18 11  1 16  7  1 16  1  6  1 18  1  1 11  6  1 12  4  3  1
  1  1  1  6  6  3  1  6  1  1  6  1  1 18  6  1  1 11  6  1  1  1  9  1
 16  1  1  1  1  1  7  1  6  1 19  3  1 11  7  1  1  7 11  1  1  1  1  1
 15  6 11  9 11  1  1 11 16  6 11  1  7  1 16  1  1  1  1 11 11  1 16 15
  1  1  1  1  1  7  3  1  1  1  7  6 15 15  9  1  7  1  1  1  1 15 11 11
  1  1 18 11  1 16  7  7  1  1  1 17 16  1 11  7  1 11  1  1  1]
predictions len  669
user1
<QuerySet [<Profile: Profile object (1)>]>
2025-06-16
로그인유저정보:  [(1, "Animation|Children's|Comedy"), (48, "Animation|Children's|Musical|Romance"), (150, 'Drama'), (260, 'Action|Adventure|Fantasy|Sci-Fi'), (527, 'Drama|War'), (531, "Children's|Drama"), (588, "Animation|Children's|Comedy|Musical"), (594, "Animation|Children's|Musical"), (595, "Animation|Children's|Musical"), (608, 'Crime|Drama|Thriller'), (783, "Animation|Children's|Musical"), (919, "Adventure|Children's|Drama|Musical"), (938, 'Musical'), (1022, "Animation|Children's|Musical"), (1028, "Children's|Comedy|Musical"), (1029, "Animation|Children's|Musical"), (1035, 'Musical'), (1097, "Children's|Drama|Fantasy|Sci-Fi"), (1193, 'Drama'), (1207, 'Drama'), (1246, 'Drama'), (1270, 'Comedy|Sci-Fi'), (1287, 'Action|Adventure|Drama'), (1545, 'Drama'), (1566, "Adventure|Animation|Children's|Comedy|Musical"), (1721, 'Drama|Romance'), (1836, 'Drama'), (1907, "Animation|Children's"), (1961, 'Drama'), (1962, 'Drama'), (2018, "Animation|Children's"), (2028, 'Action|Drama|War'), (2294, "Animation|Children's"), (2355, "Animation|Children's|Comedy"), (2398, 'Drama'), (2692, 'Action|Crime|Romance'), (2762, 'Thriller'), (2791, 'Comedy'), (2797, 'Comedy|Fantasy'), (2804, 'Comedy|Drama'), (2918, 'Comedy'), (3105, 'Drama'), (3114, "Animation|Children's|Comedy"), (3186, 'Drama'), (3408, 'Drama')]
[[1, 3, 1], [1, 4, 1], [1, 5, 1], [48, 3, 1], [48, 4, 1], [48, 12, 1], [48, 14, 1], [150, 8, 1], [260, 1, 1], [260, 2, 1], [260, 9, 1], [260, 15, 1], [527, 8, 1], [527, 17, 1], [531, 4, 1], [531, 8, 1], [588, 3, 1], [588, 4, 1], [588, 5, 1], [588, 12, 1], [594, 3, 1], [594, 4, 1], [594, 12, 1], [595, 3, 1], [595, 4, 1], [595, 12, 1], [608, 6, 1], [608, 8, 1], [608, 16, 1], [783, 3, 1], [783, 4, 1], [783, 12, 1], [919, 2, 1], [919, 4, 1], [919, 8, 1], [919, 12, 1], [938, 12, 1], [1022, 3, 1], [1022, 4, 1], [1022, 12, 1], [1028, 4, 1], [1028, 5, 1], [1028, 12, 1], [1029, 3, 1], [1029, 4, 1], [1029, 12, 1], [1035, 12, 1], [1097, 4, 1], [1097, 8, 1], [1097, 9, 1], [1097, 15, 1], [1193, 8, 1], [1207, 8, 1], [1246, 8, 1], [1270, 5, 1], [1270, 15, 1], [1287, 1, 1], [1287, 2, 1], [1287, 8, 1], [1545, 8, 1], [1566, 2, 1], [1566, 3, 1], [1566, 4, 1], [1566, 5, 1], [1566, 12, 1], [1721, 8, 1], [1721, 14, 1], [1836, 8, 1], [1907, 3, 1], [1907, 4, 1], [1961, 8, 1], [1962, 8, 1], [2018, 3, 1], [2018, 4, 1], [2028, 1, 1], [2028, 8, 1], [2028, 17, 1], [2294, 3, 1], [2294, 4, 1], [2355, 3, 1], [2355, 4, 1], [2355, 5, 1], [2398, 8, 1], [2692, 1, 1], [2692, 6, 1], [2692, 14, 1], [2762, 16, 1], [2791, 5, 1], [2797, 5, 1], [2797, 9, 1], [2804, 5, 1], [2804, 8, 1], [2918, 5, 1], [3105, 8, 1], [3114, 3, 1], [3114, 4, 1], [3114, 5, 1], [3186, 8, 1], [3408, 8, 1]]
    movieid  genre  check
0         1      3      1
1         1      4      1
2         1      5      1
3        48      3      1
4        48      4      1
..      ...    ...    ...
94     3114      3      1
95     3114      4      1
96     3114      5      1
97     3186      8      1
98     3408      8      1

[99 rows x 3 columns]
genre    1   2   3   4   5   6   8   9   12  14  15  16  17
movieid                                                    
1         0   0   1   1   1   0   0   0   0   0   0   0   0
48        0   0   1   1   0   0   0   0   1   1   0   0   0
150       0   0   0   0   0   0   1   0   0   0   0   0   0
260       1   1   0   0   0   0   0   1   0   0   1   0   0
527       0   0   0   0   0   0   1   0   0   0   0   0   1
531       0   0   0   1   0   0   1   0   0   0   0   0   0
588       0   0   1   1   1   0   0   0   1   0   0   0   0
594       0   0   1   1   0   0   0   0   1   0   0   0   0
595       0   0   1   1   0   0   0   0   1   0   0   0   0
608       0   0   0   0   0   1   1   0   0   0   0   1   0
783       0   0   1   1   0   0   0   0   1   0   0   0   0
919       0   1   0   1   0   0   1   0   1   0   0   0   0
938       0   0   0   0   0   0   0   0   1   0   0   0   0
1022      0   0   1   1   0   0   0   0   1   0   0   0   0
1028      0   0   0   1   1   0   0   0   1   0   0   0   0
1029      0   0   1   1   0   0   0   0   1   0   0   0   0
1035      0   0   0   0   0   0   0   0   1   0   0   0   0
1097      0   0   0   1   0   0   1   1   0   0   1   0   0
1193      0   0   0   0   0   0   1   0   0   0   0   0   0
1207      0   0   0   0   0   0   1   0   0   0   0   0   0
1246      0   0   0   0   0   0   1   0   0   0   0   0   0
1270      0   0   0   0   1   0   0   0   0   0   1   0   0
1287      1   1   0   0   0   0   1   0   0   0   0   0   0
1545      0   0   0   0   0   0   1   0   0   0   0   0   0
1566      0   1   1   1   1   0   0   0   1   0   0   0   0
1721      0   0   0   0   0   0   1   0   0   1   0   0   0
1836      0   0   0   0   0   0   1   0   0   0   0   0   0
1907      0   0   1   1   0   0   0   0   0   0   0   0   0
1961      0   0   0   0   0   0   1   0   0   0   0   0   0
1962      0   0   0   0   0   0   1   0   0   0   0   0   0
2018      0   0   1   1   0   0   0   0   0   0   0   0   0
2028      1   0   0   0   0   0   1   0   0   0   0   0   1
2294      0   0   1   1   0   0   0   0   0   0   0   0   0
2355      0   0   1   1   1   0   0   0   0   0   0   0   0
2398      0   0   0   0   0   0   1   0   0   0   0   0   0
2692      1   0   0   0   0   1   0   0   0   1   0   0   0
2762      0   0   0   0   0   0   0   0   0   0   0   1   0
2791      0   0   0   0   1   0   0   0   0   0   0   0   0
2797      0   0   0   0   1   0   0   1   0   0   0   0   0
2804      0   0   0   0   1   0   1   0   0   0   0   0   0
2918      0   0   0   0   1   0   0   0   0   0   0   0   0
3105      0   0   0   0   0   0   1   0   0   0   0   0   0
3114      0   0   1   1   1   0   0   0   0   0   0   0   0
3186      0   0   0   0   0   0   1   0   0   0   0   0   0
3408      0   0   0   0   0   0   1   0   0   0   0   0   0[07/Oct/2019 09:34:40] "GET /api/jwb_view/?userid=1 HTTP/1.1" 200 5186

df_genre     movieid  1  2  3  4  5  6  8  9  12  14  15  16  17
0         1  0  0  1  1  1  0  0  0   0   0   0   0   0
1        48  0  0  1  1  0  0  0  0   1   1   0   0   0
2       150  0  0  0  0  0  0  1  0   0   0   0   0   0
3       260  1  1  0  0  0  0  0  1   0   0   1   0   0
4       527  0  0  0  0  0  0  1  0   0   0   0   0   1
5       531  0  0  0  1  0  0  1  0   0   0   0   0   0
6       588  0  0  1  1  1  0  0  0   1   0   0   0   0
7       594  0  0  1  1  0  0  0  0   1   0   0   0   0
8       595  0  0  1  1  0  0  0  0   1   0   0   0   0
9       608  0  0  0  0  0  1  1  0   0   0   0   1   0
10      783  0  0  1  1  0  0  0  0   1   0   0   0   0
11      919  0  1  0  1  0  0  1  0   1   0   0   0   0
12      938  0  0  0  0  0  0  0  0   1   0   0   0   0
13     1022  0  0  1  1  0  0  0  0   1   0   0   0   0
14     1028  0  0  0  1  1  0  0  0   1   0   0   0   0
15     1029  0  0  1  1  0  0  0  0   1   0   0   0   0
16     1035  0  0  0  0  0  0  0  0   1   0   0   0   0
17     1097  0  0  0  1  0  0  1  1   0   0   1   0   0
18     1193  0  0  0  0  0  0  1  0   0   0   0   0   0
19     1207  0  0  0  0  0  0  1  0   0   0   0   0   0
20     1246  0  0  0  0  0  0  1  0   0   0   0   0   0
21     1270  0  0  0  0  1  0  0  0   0   0   1   0   0
22     1287  1  1  0  0  0  0  1  0   0   0   0   0   0
23     1545  0  0  0  0  0  0  1  0   0   0   0   0   0
24     1566  0  1  1  1  1  0  0  0   1   0   0   0   0
25     1721  0  0  0  0  0  0  1  0   0   1   0   0   0
26     1836  0  0  0  0  0  0  1  0   0   0   0   0   0
27     1907  0  0  1  1  0  0  0  0   0   0   0   0   0
28     1961  0  0  0  0  0  0  1  0   0   0   0   0   0
29     1962  0  0  0  0  0  0  1  0   0   0   0   0   0
30     2018  0  0  1  1  0  0  0  0   0   0   0   0   0
31     2028  1  0  0  0  0  0  1  0   0   0   0   0   1
32     2294  0  0  1  1  0  0  0  0   0   0   0   0   0
33     2355  0  0  1  1  1  0  0  0   0   0   0   0   0
34     2398  0  0  0  0  0  0  1  0   0   0   0   0   0
35     2692  1  0  0  0  0  1  0  0   0   1   0   0   0
36     2762  0  0  0  0  0  0  0  0   0   0   0   1   0
37     2791  0  0  0  0  1  0  0  0   0   0   0   0   0
38     2797  0  0  0  0  1  0  0  1   0   0   0   0   0
39     2804  0  0  0  0  1  0  1  0   0   0   0   0   0
40     2918  0  0  0  0  1  0  0  0   0   0   0   0   0
41     3105  0  0  0  0  0  0  1  0   0   0   0   0   0
42     3114  0  0  1  1  1  0  0  0   0   0   0   0   0
43     3186  0  0  0  0  0  0  1  0   0   0   0   0   0
44     3408  0  0  0  0  0  0  1  0   0   0   0   0   0
df_rating    movieid    rating
0        1  4.146365
1       48  2.971129
2      150  4.072800
3      260  4.453846
4      527  4.510204
   movieid    rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0        1  4.146365  0  0  1  1  1  0  0  0   0   0   0   0   0
1       48  2.971129  0  0  1  1  0  0  0  0   1   1   0   0   0
2      150  4.072800  0  0  0  0  0  0  1  0   0   0   0   0   0
3      260  4.453846  1  1  0  0  0  0  0  1   0   0   1   0   0
4      527  4.510204  0  0  0  0  0  0  1  0   0   0   0   0   1
출력    movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
['rating', '1', '2', '3', '4', '5', '6', '8', '9', '12', '14', '15', '16', '17']
           0    1    2    3    4    5    6    7    8    9   10   11   12   13
0   0.763599  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
1   0.000000  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0
2   0.715801  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
3   0.963382  1.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0
4   1.000000  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
5   0.518115  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
6   0.530851  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
7   0.567884  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
8   0.593648  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
9   0.834039  0.0  0.0  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0
10  0.162403  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
11  0.829705  0.0  1.0  0.0  1.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0
12  0.420480  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
13  0.508320  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
14  0.599022  0.0  0.0  0.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
15  0.464525  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
16  0.623512  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
17  0.645868  0.0  0.0  0.0  1.0  0.0  0.0  1.0  1.0  0.0  0.0  1.0  0.0  0.0
18  0.922140  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
19  0.945358  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
20  0.672304  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
21  0.661957  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0
22  0.739666  1.0  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
23  0.713621  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
24  0.199242  0.0  1.0  1.0  1.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0
25  0.397669  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0
26  0.212711  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
27  0.501082  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
28  0.702722  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
29  0.588654  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
30  0.498329  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
31  0.887530  1.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  1.0
32  0.332531  0.0  0.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
33  0.573444  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
34  0.642784  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
35  0.814706  1.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0
36  0.932572  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0
37  0.649721  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
38  0.574745  0.0  0.0  0.0  0.0  1.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0
39  0.823360  0.0  0.0  0.0  0.0  1.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
40  0.744862  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
41  0.524963  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
42  0.810836  0.0  0.0  1.0  1.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0
43  0.328519  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
44  0.579989  0.0  0.0  0.0  0.0  0.0  0.0  1.0  0.0  0.0  0.0  0.0  0.0  0.0
예측에 사용할 마이유저df:     movieid  rating  1  2  3  4  5  6  8  9  12  14  15  16  17
0       48       5  0  0  1  1  0  0  0  0   1   1   0   0   0
마이유저의 df를 array로 변경:  [5, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0]
[[5 0 0 1 1 0 0 0 0 1 1 0 0 0]]
[1. 0. 0. 0. 0. 0. 0. 1. 1. 0. 0. 1. 0. 1. 0. 1. 0. 0. 1. 1. 0. 0. 0. 0.
 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 1. 0. 0. 0. 0. 0. 1. 0. 0.]
0
7
8
11
13
15
18
19
36
42
['1', '594', '595', '919', '1022', '1029', '1193', '1207', '2762', '3114']
추천 영화 10개 1,594,595,919,1022,1029,1193,1207,2762,3114
     id  ...                             ImdbLink
0     1  ...  http://www.imdb.com/title/tt0114709
1   594  ...  http://www.imdb.com/title/tt0029583
2   595  ...  http://www.imdb.com/title/tt0101414
3   919  ...                                 None
4  1022  ...  http://www.imdb.com/title/tt0042332
5  1029  ...  http://www.imdb.com/title/tt0033563
6  1193  ...  http://www.imdb.com/title/tt0073486
7  1207  ...  http://www.imdb.com/title/tt0056592
8  2762  ...                                 None
9  3114  ...  http://www.imdb.com/title/tt0120363

[10 rows x 9 columns]
rating이랑 유저정보 합체    userid  gender  age  1  48  150  ...  2804  2918  3105  3114  3186  3408
0       9       1   25  5   0    0  ...     0     0     0     4     0     4
1      23       1   35  4   0    0  ...     0     0     0     0     0     0
2      34       0   18  5   0    0  ...     5     5     0     0     0     4
3      44       1   45  5   0    0  ...     0     4     0     0     0     0
4      45       0   45  4   0    0  ...     0     0     0     4     0     0

[5 rows x 48 columns][07/Oct/2019 09:34:40] "GET /api/test/?userid=1 HTTP/1.1" 200 2851
[07/Oct/2019 09:34:48] "POST /api/auth/signin/ HTTP/1.1" 200 304
[07/Oct/2019 09:34:49] "GET /api/auth/signup-many/?username=admin HTTP/1.1" 200 91
[07/Oct/2019 09:34:49] "GET /api/subscribes/?user_id=6041 HTTP/1.1" 200 2
[07/Oct/2019 09:34:59] "GET /api/movies/ HTTP/1.1" 200 405768
[07/Oct/2019 09:35:05] "GET /api/auth/signup-many/ HTTP/1.1" 200 617904
[07/Oct/2019 09:35:19] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 104
[07/Oct/2019 09:35:19] "GET /api/ratings/?userid=1&mode=usermovie HTTP/1.1" 200 1873
/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/recommend_views.py:131: FutureWarning: 
.ix is deprecated. Please use
.loc for label based indexing or
.iloc for positional indexing

See the documentation here:
http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#ix-indexer-is-deprecated
  result = to_df(kmeans).ix[0]['clusterlist']
[07/Oct/2019 09:35:23] "GET /api/recommends/?userid=1 HTTP/1.1" 200 217
[07/Oct/2019 09:35:26] "GET /api/recommends/?userid=1 HTTP/1.1" 200 217
[07/Oct/2019 09:35:31] "GET /api/recommends/?userid=1 HTTP/1.1" 200 217
[07/Oct/2019 09:35:58] "GET /api/movies/ HTTP/1.1" 200 405768
[07/Oct/2019 09:36:03] "GET /api/movies/ HTTP/1.1" 200 405768
[07/Oct/2019 09:36:04] "GET /api/auth/signup-many/ HTTP/1.1" 200 617904
[07/Oct/2019 09:36:11] "GET /api/auth/signup-many/ HTTP/1.1" 200 617904
[07/Oct/2019 09:36:41] "GET /api/ratings/?userid=1&mode=usermovie HTTP/1.1" 200 1873
[07/Oct/2019 09:37:47] "GET /api/ratings/?userid=1&mode=usermovie HTTP/1.1" 200 1873
[07/Oct/2019 09:39:29] "GET /api/auth/signup-many/?username=user1 HTTP/1.1" 200 104
[07/Oct/2019 09:39:29] "GET /api/ratings/?userid=1&mode=usermovie HTTP/1.1" 200 1873
[07/Oct/2019 09:39:38] "GET /api/recommends/?userid=1 HTTP/1.1" 200 217
[07/Oct/2019 11:49:46] "POST /api/auth/signin/ HTTP/1.1" 200 5
[07/Oct/2019 11:49:50] "POST /api/auth/signin/ HTTP/1.1" 200 5
[07/Oct/2019 11:57:20] "POST /api/auth/signin/ HTTP/1.1" 200 5
[07/Oct/2019 11:57:23] "POST /api/auth/signin/ HTTP/1.1" 200 5
[07/Oct/2019 11:57:53] "POST /api/auth/signin/ HTTP/1.1" 200 5
[07/Oct/2019 11:58:09] "POST /api/auth/signup/ HTTP/1.1" 201 4
[07/Oct/2019 11:58:11] "GET /api/movies/ HTTP/1.1" 200 405768
[07/Oct/2019 11:58:18] "GET /api/auth/signup-many/ HTTP/1.1" 200 618003
[07/Oct/2019 11:58:21] "POST /api/ratings/ HTTP/1.1" 200 0
[07/Oct/2019 11:58:24] "POST /api/ratings/ HTTP/1.1" 200 0
[07/Oct/2019 11:58:27] "POST /api/ratings/ HTTP/1.1" 200 0
Not Found: /
[07/Oct/2019 13:16:16] "GET / HTTP/1.1" 404 2031
Not Found: /favicon.ico
[07/Oct/2019 13:16:16] "GET /favicon.ico HTTP/1.1" 404 2082
[07/Oct/2019 13:16:21] "GET /admin HTTP/1.1" 301 0
[07/Oct/2019 13:16:21] "GET /admin/ HTTP/1.1" 302 0
[07/Oct/2019 13:16:21] "GET /admin/login/?next=/admin/ HTTP/1.1" 200 1975
[07/Oct/2019 13:16:21] "GET /static/admin/css/base.css HTTP/1.1" 200 16378
[07/Oct/2019 13:16:21] "GET /static/admin/css/login.css HTTP/1.1" 200 1233
[07/Oct/2019 13:16:21] "GET /static/admin/css/responsive.css HTTP/1.1" 200 17944
[07/Oct/2019 13:16:21] "GET /static/admin/css/fonts.css HTTP/1.1" 200 423
[07/Oct/2019 13:16:21] "GET /static/admin/fonts/Roboto-Light-webfont.woff HTTP/1.1" 200 85692
[07/Oct/2019 13:16:21] "GET /static/admin/fonts/Roboto-Bold-webfont.woff HTTP/1.1" 200 86184
[07/Oct/2019 13:16:21] "GET /static/admin/fonts/Roboto-Regular-webfont.woff HTTP/1.1" 200 85876
[07/Oct/2019 13:16:24] "POST /admin/login/?next=/admin/ HTTP/1.1" 302 0
[07/Oct/2019 13:16:24] "GET /admin/ HTTP/1.1" 200 7639
[07/Oct/2019 13:16:24] "GET /static/admin/css/dashboard.css HTTP/1.1" 200 412
[07/Oct/2019 13:16:24] "GET /static/admin/img/icon-addlink.svg HTTP/1.1" 200 331
[07/Oct/2019 13:16:24] "GET /static/admin/img/icon-deletelink.svg HTTP/1.1" 200 392
[07/Oct/2019 13:16:24] "GET /static/admin/img/icon-changelink.svg HTTP/1.1" 200 380
[07/Oct/2019 13:16:30] "GET /admin/api/profile/ HTTP/1.1" 200 28408
[07/Oct/2019 13:16:30] "GET /static/admin/css/changelists.css HTTP/1.1" 200 6170
[07/Oct/2019 13:16:30] "GET /static/admin/js/jquery.init.js HTTP/1.1" 200 363
[07/Oct/2019 13:16:30] "GET /admin/jsi18n/ HTTP/1.1" 200 3223
[07/Oct/2019 13:16:30] "GET /static/admin/js/core.js HTTP/1.1" 200 7099
[07/Oct/2019 13:16:30] "GET /static/admin/js/admin/RelatedObjectLookups.js HTTP/1.1" 200 6918
[07/Oct/2019 13:16:30] "GET /static/admin/js/actions.js HTTP/1.1" 200 6766
[07/Oct/2019 13:16:30] "GET /static/admin/js/vendor/jquery/jquery.js HTTP/1.1" 200 271817
[07/Oct/2019 13:16:30] "GET /static/admin/js/urlify.js HTTP/1.1" 200 8941
[07/Oct/2019 13:16:30] "GET /static/admin/js/prepopulate.js HTTP/1.1" 200 1530
[07/Oct/2019 13:16:30] "GET /static/admin/js/vendor/xregexp/xregexp.js HTTP/1.1" 200 128820
[07/Oct/2019 13:16:30] "GET /static/admin/img/tooltag-add.svg HTTP/1.1" 200 331
[07/Oct/2019 13:16:33] "GET /admin/api/profile/6044/change/ HTTP/1.1" 200 257924
[07/Oct/2019 13:16:33] "GET /static/admin/css/forms.css HTTP/1.1" 200 8518
[07/Oct/2019 13:16:33] "GET /admin/jsi18n/ HTTP/1.1" 200 3223
[07/Oct/2019 13:16:33] "GET /static/admin/css/widgets.css HTTP/1.1" 200 10340
[07/Oct/2019 13:16:33] "GET /static/admin/js/prepopulate_init.js HTTP/1.1" 200 495
[07/Oct/2019 13:16:33] "GET /static/admin/js/change_form.js HTTP/1.1" 200 712
[07/Oct/2019 13:16:41] "GET /admin/api/profile/ HTTP/1.1" 200 28408
[07/Oct/2019 13:16:42] "GET /admin/ HTTP/1.1" 200 7639
[07/Oct/2019 13:16:46] "GET /admin/auth/user/ HTTP/1.1" 200 48924
[07/Oct/2019 13:16:46] "GET /admin/jsi18n/ HTTP/1.1" 200 3223
[07/Oct/2019 13:16:47] "GET /static/admin/img/icon-no.svg HTTP/1.1" 200 560
[07/Oct/2019 13:16:47] "GET /static/admin/img/search.svg HTTP/1.1" 200 458
[07/Oct/2019 13:16:47] "GET /static/admin/img/icon-yes.svg HTTP/1.1" 200 436
[07/Oct/2019 13:16:47] "GET /static/admin/img/sorting-icons.svg HTTP/1.1" 200 1097
[07/Oct/2019 13:16:54] "GET /admin/auth/user/?o= HTTP/1.1" 200 51335
[07/Oct/2019 13:16:55] "GET /admin/jsi18n/ HTTP/1.1" 200 3223
[07/Oct/2019 13:16:59] "GET /admin/auth/user/6042/change/?_changelist_filters=o%3D HTTP/1.1" 200 17155
[07/Oct/2019 13:16:59] "GET /static/admin/js/SelectFilter2.js HTTP/1.1" 200 12322
[07/Oct/2019 13:16:59] "GET /static/admin/js/SelectBox.js HTTP/1.1" 200 5753
[07/Oct/2019 13:16:59] "GET /static/admin/js/admin/DateTimeShortcuts.js HTTP/1.1" 200 20218
[07/Oct/2019 13:16:59] "GET /static/admin/js/calendar.js HTTP/1.1" 200 7777
[07/Oct/2019 13:16:59] "GET /admin/jsi18n/ HTTP/1.1" 200 3223
[07/Oct/2019 13:16:59] "GET /static/admin/img/selector-icons.svg HTTP/1.1" 200 3291
[07/Oct/2019 13:16:59] "GET /static/admin/img/icon-clock.svg HTTP/1.1" 200 677
[07/Oct/2019 13:16:59] "GET /static/admin/img/icon-calendar.svg HTTP/1.1" 200 1086
[07/Oct/2019 13:16:59] "GET /static/admin/img/icon-unknown-alt.svg HTTP/1.1" 200 655
[07/Oct/2019 13:16:59] "GET /static/admin/img/icon-unknown.svg HTTP/1.1" 200 655
[07/Oct/2019 13:17:08] "GET /admin/auth/user/?o= HTTP/1.1" 200 51335
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[07/Oct/2019 18:49:31] "GET / HTTP/1.0" 400 57934
[07/Oct/2019 19:25:19] code 400, message Bad HTTP/0.9 request type ('\x00\x00\x00')
[07/Oct/2019 19:25:19] "    c                           " 400 -
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[08/Oct/2019 01:43:13] "GET / HTTP/1.0" 400 57935
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[08/Oct/2019 04:59:37] "GET / HTTP/1.0" 400 57937
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[08/Oct/2019 09:53:59] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[08/Oct/2019 14:37:26] "GET / HTTP/1.0" 400 57934
[08/Oct/2019 15:43:37] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[08/Oct/2019 15:43:37] "  /*à     Cookie: mstshash=Administr" 400 -
[08/Oct/2019 21:45:46] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[08/Oct/2019 21:45:46] "  /*à     Cookie: mstshash=Administr" 400 -
----------------------------------------
Exception happened during processing of request from ('185.209.0.7', 2838)
Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 169, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 179, in handle_one_request
    self.raw_requestline = self.rfile.readline(65537)
  File "/usr/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
----------------------------------------
[08/Oct/2019 22:44:03] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[08/Oct/2019 22:44:03] "  /*à     Cookie: mstshash=Administr" 400 -
[09/Oct/2019 00:15:56] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[09/Oct/2019 00:15:56] "  /*à     Cookie: mstshash=Administr" 400 -
Not Found: /
[09/Oct/2019 08:39:07] "GET / HTTP/1.1" 404 2031
[09/Oct/2019 13:47:04] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[09/Oct/2019 13:47:04] "  /*à     Cookie: mstshash=Administr" 400 -
Not Found: /
[09/Oct/2019 13:52:44] "GET / HTTP/1.1" 404 2031
----------------------------------------
Exception happened during processing of request from ('198.108.67.48', 39240)
Traceback (most recent call last):
  File "/usr/lib/python3.6/socketserver.py", line 654, in process_request_thread
    self.finish_request(request, client_address)
  File "/usr/lib/python3.6/socketserver.py", line 364, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File "/usr/lib/python3.6/socketserver.py", line 724, in __init__
    self.handle()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 171, in handle
    self.handle_one_request()
  File "/usr/local/lib/python3.6/dist-packages/django/core/servers/basehttp.py", line 179, in handle_one_request
    self.raw_requestline = self.rfile.readline(65537)
  File "/usr/lib/python3.6/socket.py", line 586, in readinto
    return self._sock.recv_into(b)
ConnectionResetError: [Errno 104] Connection reset by peer
----------------------------------------
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[09/Oct/2019 15:34:46] "GET / HTTP/1.0" 400 57934
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[09/Oct/2019 22:20:58] "GET / HTTP/1.0" 400 57936
Not Found: /
[10/Oct/2019 02:20:38] "GET / HTTP/1.1" 404 2031
Invalid HTTP_HOST header: 'ip-172-26-10-245.ap-northeast-2.compute.internal:8000'. You may need to add 'ip-172-26-10-245.ap-northeast-2.compute.internal' to ALLOWED_HOSTS.
Bad Request: /
[10/Oct/2019 04:26:43] "GET / HTTP/1.0" 400 57937
[10/Oct/2019 05:45:15] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
[10/Oct/2019 05:45:15] "  /*à     Cookie: mstshash=Administr" 400 -
Not Found: /
[10/Oct/2019 08:07:10] "GET / HTTP/1.1" 404 2031
[10/Oct/2019 08:39:03] code 400, message Bad request version ('HTTP')
[10/Oct/2019 08:39:03] "GET ../../mnt/custom/ProductDefinition HTTP" 400 -
Not Found: /admin/assets/js/views/login.js
[10/Oct/2019 14:08:26] "GET /admin/assets/js/views/login.js HTTP/1.1" 404 5037
Not Found: /admin/i18n/readme.txt
[10/Oct/2019 14:08:28] "GET /admin/i18n/readme.txt HTTP/1.1" 404 5010
Not Found: /recordings/theme/main.css
[10/Oct/2019 14:08:30] "GET /recordings/theme/main.css HTTP/1.1" 404 2124
Not Found: /admin/config.php
[10/Oct/2019 14:08:32] "GET /admin/config.php HTTP/1.1" 404 4995
Not Found: /a2billing/admin/Public/index.php
[10/Oct/2019 14:08:34] "GET /a2billing/admin/Public/index.php HTTP/1.1" 404 2145
/usr/lib/python3.6/plistlib.py changed, reloading.

         0         1         2    3   ...   43        44   45        46
0  0.034040  0.851010  0.170202  0.0  ...  0.0  0.136162  0.0  0.136162
1  0.027156  0.950470  0.108625  0.0  ...  0.0  0.000000  0.0  0.000000
2  0.000000  0.752618  0.209061  0.0  ...  0.0  0.000000  0.0  0.167248
3  0.020633  0.928477  0.103164  0.0  ...  0.0  0.000000  0.0  0.000000
4  0.000000  0.982448  0.087329  0.0  ...  0.0  0.087329  0.0  0.000000

[5 rows x 47 columns]
유사한 유저 id ['1088', '1425', '2073', '3391', '3590']
     id  ...                             ImdbLink
0   318  ...                                 None
1  2019  ...                                 None
2    50  ...                                 None
3   858  ...                                 None
4   904  ...  http://www.imdb.com/title/tt0047396
5   922  ...                                 None
6  1148  ...                                 None
7  1198  ...  http://www.imdb.com/title/tt0082971
8  1212  ...                                 None
9   593  ...                                 None

[10 rows x 9 columns]
admin
<QuerySet [<Profile: Profile object (6041)>]>

user1
<QuerySet [<Profile: Profile object (1)>]>
user1
<QuerySet [<Profile: Profile object (1)>]>
test test test test@test.com
{'userid': 6044, 'movieid': 3, 'rating': 4}
6044 3 4 2019-10-07 11:58:21
{'userid': 6044, 'movieid': 1, 'rating': 4}
6044 1 4 2019-10-07 11:58:24
{'userid': 6044, 'movieid': 6, 'rating': 4.5}
6044 6 4.5 2019-10-07 11:58:27
Watching for file changes with StatReloader
/home/ubuntu/BigData_8/bigdata_sub3/backend/api/views/movie_views.py changed, reloading.
Performing system checks...

System check identified no issues (0 silenced).
October 10, 2019 - 15:06:10
Django version 2.2.4, using settings 'backend.settings'
Starting development server at http://0.0.0.0:8000/
Quit the server with CONTROL-C.
Watching for file changes with StatReloader
